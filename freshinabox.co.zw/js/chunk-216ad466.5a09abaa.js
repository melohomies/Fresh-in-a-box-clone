(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-216ad466"],{"3e06":function(t,e,r){},d5b3:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("button",{staticClass:"back_link",on:{click:function(e){return t.$router.push("/orders")}}},[r("svg",{attrs:{viewBox:"0 0 12.59 13.501"}},[r("g",{attrs:{transform:"translate(-12.163 -38.025)"}},[r("path",{staticClass:"back_path",attrs:{d:"M18.368,40.144l-4.184,4.632,4.184,4.632"}}),r("line",{staticClass:"back_path",attrs:{x1:"7.919",transform:"translate(15.333 44.775)"}})])]),t._v("Back\n  ")]),r("div",{staticClass:"flex items-center justify-between pb-4 mb-4 border-b-2 border-dashed border-gray-600 max-w-full"},[r("div",{staticClass:"text-xl font-black"},[t._v("Tracking your "+t._s(t.storeIsPlusvans?"booking":"order"))]),t.isTrackingLive?r("span",{staticClass:"flex-shrink-0 flex items-center font-medium text-lg "},[r("span",{staticClass:"flex-shrink-0 mr-2 animate-ping inline-flex h-4 w-4 rounded-full bg-primary opacity-75"},[t._v(" ")]),t._v("\n      Live\n    ")]):t._e()]),this.trackOrder.id?r("ul",[r("li",[r("div",{staticClass:"flex justify-between items-center pb-4 border-b-2 border-dashed border-gray-600 mb-4"},[r("span",{staticClass:"font-black text-3xl"},[t._v("\n          #"+t._s(this.trackOrder.orderNumber)+"\n        ")]),r("span",{staticClass:"font-black text-3xl"},[t._v("\n          "+t._s(this.trackOrder.currency)+"$"+t._s(this.trackOrder.totals[this.trackOrder.currency])+"\n        ")])])]),r("li",[r("p",{staticClass:"pt-4"},[t.deliveryOrderActive?r("span",[t._v("\n          Your order was delivered ->\n          "),r("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n            "+t._s(new Date(this.trackOrder.delivery.date).toLocaleDateString())+"\n          ")])]):r("span",[t._v("\n          Estimated date of delivery ->\n          "),r("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n            "+t._s(new Date(this.trackOrder.delivery.date).toLocaleDateString())+"\n          ")])])])]),"Rejected"!==this.trackOrder.status?r("li",[r("div",{staticClass:"order-track"},[r("div",{staticClass:"order-track-step"},[t._m(0),r("div",{staticClass:"order-track-text"},[r("p",{staticClass:"order-track-text-stat"},[t._v(t._s(t.storeIsPlusvans?"Booking":"Order")+" Received")]),r("span",{staticClass:"order-track-text-sub"},[r("p",{staticStyle:{"font-size":"1.5em"}},[t._v("\n                "+t._s(t.momentTime(this.trackOrder.createdAt).format("LLL"))+"\n              ")])])])]),t.storeIsPlusvans?t._e():r("div",{staticClass:"order-track-step"},[r("div",{staticClass:"order-track-status"},[r("span",{class:["order-track-status-dot",{active:t.acceptedOrderActive}]}),r("span",{staticClass:"order-track-status-line"})]),r("div",{staticClass:"order-track-text"},[r("p",{staticClass:"order-track-text-stat"},[t._v(t._s(t.storeIsFuelApp?"Loading Driver":"Preparing Order"))]),r("span",{staticClass:"order-track-text-sub"},[r("p",{staticStyle:{"font-size":"1.5em"}},[t.trackOrder.acceptedAt?r("span",[t._v("\n                  "+t._s(t.momentTime(this.trackOrder.acceptedAt).format("LLL"))+"\n                ")]):t.acceptedOrderActive?r("span",[t._v("  \n                ")]):r("span",{staticClass:"text-orange-600 flex items-center"},[r("svg",{staticClass:"w-6 h-6 mr-1",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),t._v("\n                  pending\n                ")])])])])]),t.storeIsPlusvans?t._e():r("div",{staticClass:"order-track-step"},[r("div",{staticClass:"order-track-status"},[r("span",{class:["order-track-status-dot",{active:t.completedOrderActive}]}),r("span",{staticClass:"order-track-status-line"})]),r("div",{staticClass:"order-track-text"},[r("p",{staticClass:"order-track-text-stat"},[t._v(t._s(t.storeIsFuelApp?"Loading Completed":"Order Completed"))]),r("span",{staticClass:"order-track-text-sub"},[r("p",{staticStyle:{"font-size":"1.5em"}},[t.completedOrderActive?r("span",[t._v("\n                  "+t._s(t.momentTime(t.completedAt).format("LLL"))+"\n                ")]):t.completedOrderActive?r("span",[t._v("  \n                ")]):r("span",{staticClass:"text-orange-600 flex items-center"},[r("svg",{staticClass:"w-6 h-6 mr-1",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),t._v("\n                  pending\n                ")])])])])]),r("div",{staticClass:"order-track-step"},[r("div",{staticClass:"order-track-status"},[r("span",{class:["order-track-status-dot",{active:t.enrouteOrderActive}]}),r("span",{staticClass:"order-track-status-line"})]),r("div",{staticClass:"order-track-text"},[t.storeIsPlusvans?r("p",{staticClass:"order-track-text-stat"},[t._v("Booking En-Route")]):t.storeIsFuelApp?r("p",{staticClass:"order-track-text-stat"},[t._v("Driver En-Route")]):r("p",{staticClass:"order-track-text-stat"},[t._v("Order En-Route")]),r("span",{staticClass:"order-track-text-sub"},[r("p",{staticStyle:{"font-size":"1.5em"}},[t.trackOrder.enrouteAt?r("span",[t._v("\n                  "+t._s(t.momentTime(this.trackOrder.enrouteAt).format("LLL"))+"\n                ")]):t.enrouteOrderActive?r("span",[t._v("  \n                ")]):r("span",{staticClass:"text-orange-600 flex items-center"},[r("svg",{staticClass:"w-6 h-6 mr-1",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),t._v("\n                  pending\n                ")])])])])]),r("div",{staticClass:"order-track-step"},[r("div",{staticClass:"order-track-status"},[r("span",{class:["order-track-status-dot",{active:t.deliveryOrderActive}]}),r("span",{staticClass:"order-track-status-line"})]),r("div",{staticClass:"order-track-text"},[r("p",{staticClass:"order-track-text-stat"},[t._v(t._s(t.storeIsPlusvans?"Job Completed":"Order Delivered"))]),r("span",{staticClass:"order-track-text-sub"},[r("p",{staticStyle:{"font-size":"1.5em"}},[this.trackOrder.deliveredAt?r("span",[t._v("\n                  "+t._s(t.momentTime(this.trackOrder.deliveredAt).format("LLL"))+"\n                ")]):r("span",{staticClass:"text-orange-600 flex items-center"},[r("svg",{staticClass:"w-6 h-6 mr-1",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),t._v("\n                  pending\n                ")])])])])])])]):t._e(),"Rejected"===this.trackOrder.status?r("li",{staticStyle:{padding:"5em 0"}},[r("br"),t._m(1)]):t._e()]):r("div",[r("div",{staticClass:"loading w-full"},[t._l(3,function(t){return r("div",{key:t,staticClass:" title h-16 mb-4"})}),t._v("\n       \n    ")],2),t._m(2)])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order-track-status"},[r("span",{staticClass:"order-track-status-dot active"}),r("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",{staticStyle:{"font-size":"1.5em"}},[t._v("\n        You current order has been\n        "),r("span",{staticStyle:{color:"red","font-weight":"bold"}},[t._v("unsuccessful.")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loading w-full flex"},[r("div",{staticClass:"title w-8 h-32"}),r("div",{staticClass:"title ml-4 flex-1 h-32"})])}],i=(r("ac6a"),r("456d"),r("7514"),r("c1df")),n=r.n(i),c=r("f121"),o={data:function(){return{trackOrder:{},isTrackingLive:!0}},mounted:function(){var t=this;this.fetchOrder(),this.inteval=setInterval(function(){t.fetchOrder()},3e4)},beforeDestroy:function(){clearInterval(this.inteval)},computed:{acceptedOrderActive:function(){return this.trackOrder.acceptedAt||this.trackOrder.completedAt||this.trackOrder.enrouteAt||this.trackOrder.deliveredAt},completedOrderActive:function(){return!!this.trackOrder.times.find(function(t){return"Completed"==Object.keys(t)[0]})||this.trackOrder.enrouteAt||this.trackOrder.deliveredAt},completedAt:function(){var t=this.trackOrder.times.find(function(t){return"Completed"==Object.keys(t)[0]});return t?t.Completed:this.trackOrder.enrouteAt},enrouteOrderActive:function(){return this.trackOrder.enrouteAt||this.trackOrder.deliveredAt},deliveryOrderActive:function(){return this.trackOrder.deliveredAt},storeIsPlusvans:function(){return"plusvans.co.uk"==c["n"]},storeIsFuelApp:function(){return"fuelapp.co.zw"==c["n"]}},methods:{momentTime:function(t){return n()(t)},fetchOrder:function(){var t=this;this.$store.dispatch("getOrder",this.$route.params.id).then(function(e){t.trackOrder=e,console.log({trackOrder:e}),(e.deliveredAt||"Rejected"==e.status)&&(clearInterval(t.timeout),t.isTrackingLive=!1)})}}},d=o,l=(r("d959"),r("2877")),v=Object(l["a"])(d,s,a,!1,null,"87a8c556",null);e["default"]=v.exports},d959:function(t,e,r){"use strict";var s=r("3e06"),a=r.n(s);a.a}}]);