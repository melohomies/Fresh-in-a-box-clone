(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e19e0"],{"7acc":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pt-4 h-screen pb-64 overflow-y-auto"},[r("button",{staticClass:"md:hidden px-6 flex items-center text-primary text-2xl font-bold uppercase",on:{click:function(t){return e.$router.push("/account")}}},[r("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}})]),e._v(" back")]),r("button",{staticClass:"hidden  px-6 md:flex items-center text-primary text-2xl font-bold uppercase",on:{click:function(t){return e.$router.push("/shop")}}},[r("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}})]),e._v(" back")]),r("div",{staticClass:"flex px-6 pt-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderNumber,expression:"orderNumber"}],staticClass:"form-input",attrs:{type:"text",placeholder:e.storeIsPlusvans?"Search Bookings by Booking Ref":"Search order by order number"},domProps:{value:e.orderNumber},on:{input:function(t){t.target.composing||(e.orderNumber=t.target.value)}}})]),e.orders.length>0?r("AppAllOrders",{attrs:{orders:e.filteredOrders,filter:e.filter,orderNumber:e.orderNumber},on:{filter:e.applyOrderFilters}}):e.$store.getters.loggedIn&&e.orders.length<1?r("div",{staticClass:"px-6"},[r("div",{staticClass:"loading w-full"},[e._l(5,function(e){return r("div",{key:e,staticClass:" title h-16 mb-4"})}),e._v("\n       \n    ")],2)]):e._e(),e.$store.getters.loggedIn?e._e():r("div",{staticClass:"px-6"},[r("div",{staticClass:"mx-auto border-2 border-primary rounded-lg p-4"},[r("h3",{staticClass:"text-xl font-bold mb-4"},[e._v("You need an account to see previous "+e._s(e.storeIsPlusvans?"bookings":"orders")+" .")]),r("p",[e._v("Having an account will allow you to see all the orders you have made in the past.")]),r("div",{staticClass:"mt-4 pt-6 pb-2 border-t"},[r("a",{staticClass:"btn btn--primary",attrs:{href:""+e.freshAccountBaseURL}},[e._v("Register your "+e._s(e.storeIsPlusvans?"Plusvans Account":"FreshAccount"))])])])])],1)},o=[],n=(r("7514"),r("6b54"),r("4917"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"px-6 -mt-8 pt-8"},[r("h1",{staticClass:"text-3xl font-bold mb-4"},[e._v(e._s(e.storeIsPlusvans?"Previous Bookings":"Previous Orders"))]),r("nav",{staticClass:"bg-white px-8 pt-2 shadow-md mb-4 -mx-12"},[r("div",{staticClass:"flex justify-center"},[r("a",{staticClass:"flex items-center no-underline  border-b-2  uppercase tracking-wide font-bold py-3 mr-8",class:{"border-primary":"all"==e.filter,"border-transparent":"all"!=e.filter,"text-primary":"all"==e.filter},attrs:{href:"#"},on:{click:function(t){return e.setFilter("all")}}},[r("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}})]),e._v("\n            All\n        ")]),r("a",{staticClass:"flex items-center no-underline text-grey-dark border-b-2 uppercase tracking-wide font-bold py-3 mr-8",class:{"border-primary":"inProgress"==e.filter,"border-transparent":"inProgress"!=e.filter,"text-primary":"inProgress"==e.filter},attrs:{href:"#"},on:{click:function(t){return e.setFilter("inProgress")}}},[r("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),e._v("\n            In Progress\n        ")]),r("a",{staticClass:"flex items-center no-underline text-grey-dark border-b-2 uppercase tracking-wide font-bold py-3 mr-8",class:{"border-primary":"delivered"==e.filter,"border-transparent":"delivered"!=e.filter,"text-primary":"delivered"==e.filter},attrs:{href:"#"},on:{click:function(t){return e.setFilter("delivered")}}},[r("svg",{staticClass:"w-6 h-6 mr-2",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}}),r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"}})]),e._v("\n            "+e._s(e.storeIsPlusvans?"Jobs completed":"Delivered")+"\n        ")])])]),e.orders.length>0?r("ul",e._l(e.orders,function(t){return r("li",{key:t.id,staticClass:"my-4 p-4 bg-white rounded-md border-2 hover:border-primary hover:cursor-pointer overflow-hidden",class:{"border-primary":t.deliveredAt},on:{click:function(r){return e.$router.push("/orders/"+t.id)},cliclk:function(r){return e.showOrderDetails(t.id)}}},[r("div",{staticClass:"flex items-center justify-between border-b mb-4 -mx-4 px-4 pb-2"},[r("div",{staticClass:"flex items-center"},[r("h3",{staticClass:"text-3xl font-bold text-gray-800 mr-4"},[e._v("\n        #"+e._s(t.orderNumber)+"\n      ")])]),r("div",{staticClass:"flex flex-col items-end"},[r("div",{staticClass:"flex items-center text-xl text-gray-700"},[t.deliveredAt?r("span",{staticClass:"text-green-700 inline-flex items-center"},[r("svg",{staticClass:"w-6 h-6 mr-1",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}}),r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"}})]),e._v("\n          Delivered "+e._s(e.momentTime(t.deliveredAt).fromNow())+"\n        ")]):r("span",{staticClass:"inline-flex items-center"},[r("svg",{staticClass:"w-6 h-6 mr-1",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}}),r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"}})]),e._v("\n          "+e._s(e.storeIsPlusvans?"To be completed":"Delivers")+" "+e._s(e.momentTime(t.delivery.date).fromNow())+"\n        ")])])])]),r("div",{staticClass:"flex items-center justify-between text-2xl"},[r("span",[e._v("\n          "+e._s(t.products.length)+" × Products\n        ")]),r("span",{staticClass:"font-black"},[e._v(e._s(e.storeIsPlusvans?"£":"$")+e._s(t.totals[t.currency].toFixed(2)))])]),t.deliveredAt?r("span",{staticClass:"flex items-center justify-between mt-4 pt-4 bg-gray-200 -mx-4 -mb-4 px-4 pb-4  font-bold text-sm uppercase tracking-wide text-primary"},[e._v("\n        "+e._s(t.status)+"\n      ")]):r("div",{staticClass:"flex items-center justify-between mt-4 pt-4 bg-gray-200 -mx-4 -mb-4 px-4 pb-4"},[r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"h-4 w-4 bg-yellow-800 rounded-full mr-2"},[e._v(" ")]),r("span",{staticClass:"font-bold text-sm uppercase tracking-wide text-yellow-800"},[e._v("\n              "+e._s(t.status)+"\n            ")])]),e._v("\n          "+e._s(e.momentTime(t.createdAt).fromNow())+"\n        ")]),r("div")])}),0):r("div",{staticClass:"border border-primary rounded-lg p-4"},[e._v("\n    You have no orders that match that filter "),r("span",{staticClass:"bg-indigo-100 border border-indigo-400 text-indigo-600 px-1 rounded-lg"},[e._v(e._s(e.filter))]),e.orderNumber?r("span",[e._v(" or match the order number "),r("span",{staticClass:"bg-indigo-100 border border-indigo-400 text-indigo-600 px-1 rounded-lg"},[e._v(e._s(e.orderNumber))])]):e._e()])])}),i=[],a=r("c1df"),l=r.n(a),d=r("f121"),c={props:["orders","filter","orderNumber"],computed:{storeIsPlusvans:function(){return"plusvans.co.uk"==d["n"]}},methods:{showOrderDetails:function(e){this.show="trackOrder";var t=this.trackOrders.filter(function(t){return t.id==e})[0];alert(JSON.stringify(t))},setFilter:function(e){this.$emit("filter",e)},momentTime:function(e){return l()(e)}}},u=c,m=r("2877"),p=Object(m["a"])(u,n,i,!1,null,null,null),h=p.exports,f=r("d7c2"),v={mounted:function(){this.$route.query.orderNumber&&(this.orderNumber=this.$route.query.orderNumber),this.getOrders()},data:function(){return{orderNumber:"",orders:[],filter:"all",freshAccountBaseURL:f["i"]}},computed:{storeIsPlusvans:function(){return"plusvans.co.uk"==d["n"]},filteredOrders:function(){var e=this;return this.filter,""==this.orderNumber&&"all"==this.filter?this.orders:(console.log(this.orders.filter(function(t){return!!t.orderNumber.toString().match(e.orderNumber)})),this.orders.filter(function(t){return!!t.orderNumber.toString().match(e.orderNumber)}).filter(function(t){return"all"==e.filter||("inProgress"==e.filter&&!t.deliveredAt||!("delivered"!=e.filter||!t.deliveredAt))}))}},components:{AppAllOrders:h},methods:{getOrders:function(){var e=this;this.$store.dispatch("getOrders").then(function(t){if(e.orders=t,e.$route.query.orderNumber&&e.filteredOrders.length>0){console.log("found the order, now redirecting to the other page");var r=t.find(function(t){return t.orderNumber==e.$route.query.orderNumber}).id;e.$router.push({name:"ShowOrder",params:{id:r}})}})},applyOrderFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";console.log("the filters are working"),this.filter=e,console.log(this.filter)}}},b=v,g=Object(m["a"])(b,s,o,!1,null,null,null);t["default"]=g.exports}}]);